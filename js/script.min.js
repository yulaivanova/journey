"use strict";!function(){var e,t=document.querySelector(".site-nav"),s=document.querySelector(".site-nav__toggle"),n=document.querySelector(".popup"),c=document.querySelector(".popup__inner"),i=document.querySelector(".popup__form"),a=document.querySelector(".popup__toggle"),o=document.querySelector(".offer"),d=document.querySelector(".tabs"),r=(document.querySelector(".button"),document.querySelector(".form")),u=document.querySelectorAll(".tours__link"),l=document.querySelectorAll(".tabs-nav__item"),v=document.querySelectorAll(".tabs__item"),m=document.querySelector("main"),p=document.querySelector("#success").content.querySelector(".popup--success"),L=null;t.classList.remove("site-nav--nojs"),t.classList.remove("site-nav--opened"),t.classList.add("site-nav--closed");var _=function(e){n.classList.remove("popup--opened"),c.classList.remove("popup__inner--opened")},f=function(e){"Escape"===e.key&&_()},y=function(e){e.target.classList.contains("button")&&(n.classList.add("popup--opened"),c.classList.add("popup__inner--opened"),i.querySelector(".fieldset__input--phone").focus(),document.addEventListener("keydown",f))},E=function(){L=p.cloneNode(!0),m.appendChild(L),document.addEventListener("keydown",q),document.addEventListener("click",k)},b=function(){L&&L.remove(),document.removeEventListener("keydown",q),document.removeEventListener("click",k)},k=function(e){var t=e.target;(t.classList.contains("popup--opened")||t.classList.contains("popup__toggle"))&&b()},q=function(e){"Escape"===e.key&&b()};s.addEventListener("click",function(){t.classList.contains("site-nav--closed")?(t.classList.remove("site-nav--closed"),t.classList.add("site-nav--opened")):(t.classList.add("site-nav--closed"),t.classList.remove("site-nav--opened"))}),a.addEventListener("click",function(){_(),document.removeEventListener("keydown",f)}),o.addEventListener("click",y),d.addEventListener("click",y),n.addEventListener("click",function(e){e.target.classList.contains("popup--opened")&&(_(),document.removeEventListener("keydown",f))}),i.addEventListener("submit",function(e){E(),i.reset(),_(),e.preventDefault()}),r.addEventListener("submit",function(e){e.preventDefault(),r.reset(),E()}),function(){function t(){l.forEach(e=>{e.classList.remove("tabs-nav__item--is-active")}),this.classList.add("tabs-nav__item--is-active"),s(e=this.getAttribute("data-tab-name"))}function s(e){v.forEach(t=>{t.classList.contains(e)?t.classList.add("tabs__item--is-active"):t.classList.remove("tabs__item--is-active")})}l.forEach(n=>{n.addEventListener("click",t),n.addEventListener("keydown",function(t){e=this.getAttribute("data-tab-name"),13===t.keyCode&&(l.forEach(t=>{t.dataset.tabName===e?t.classList.add("tabs-nav__item--is-active"):t.classList.remove("tabs-nav__item--is-active")}),s(e))})})}(),function(){function e(){!function(e){v.forEach(t=>{t.classList.contains(e)?t.classList.add("tabs__item--is-active"):t.classList.remove("tabs__item--is-active")}),l.forEach(t=>{t.dataset.tabName===e?t.classList.add("tabs-nav__item--is-active"):t.classList.remove("tabs-nav__item--is-active")})}(this.getAttribute("data-tab-name"))}u.forEach(t=>{t.addEventListener("click",e)})}()}();